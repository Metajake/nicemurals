
{% extends 'blog/base.html' %}
{% block extrahead %}
<meta name="description" content=""/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@jaynoco"/>
<meta name="twitter:creator" content="@jaynoco"/>
<meta property="og:url" content=""/>
<meta property="og:title" content="{{entry.title}}"/>
<meta property="og:description" content=""/>
<meta property="og:image" content="https://i.imgur.com/HaSkdQA.jpg"/>{% endblock %}
{% block masthead %}
<h1 class="title is-2">{{entry.title}}</h1>
<h2 class="subtitle is-5">&nbsp;</h2>{% endblock %}
{% block main-content %}
<div class="columns">
  <div class="column is-three-quarters">
    {{entry.body|safe}}
    <a id="tweet-entry" class="button is-link is-small">Tweet this</a>
  </div>
  <div class="column">
    <ul></ul>{% for tag in tags %}
    <li><a href="/tags/{{tag}}">{{tag}}</a></li>{% endfor %}
  </div>
</div>{% endblock %}
{% block extrascript %}
<script>
  $('meta[property="og:url"]').attr('content', window.location.href)
  $('meta[property="og:description"], meta[name="description"]').attr('content', $("{{entry.body|safe}}").text().slice(0,155) )
  
  $('#tweet-entry').click(function(e){
    $.ajax({
      type: "POST",
      url: '/ajax/tweet-entry/',
      data: {
        'ajax' : 'True',
        'title' : '{{entry.title}}',
        'slug' : '{{entry.slug}}',
        csrfmiddlewaretoken: '{{ csrf_token }}',
      },
      /* datatype: 'json',
      success: function(data){
        console.log('success!')
      }, */
    })
  })
</script>{% endblock %}